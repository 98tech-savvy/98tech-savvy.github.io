---
title:  "[네트워크 관리사 2급] 11. DNS 서버"
excerpt: "DNS 서버에 대해 알아보자"

categories:
  - License
tags:
  - [License, 네트워크 관리사 2급, DNS 서버]

toc: true
toc_sticky: true

date: 2024-02-17
last_modified_at: 2024-02-17
---

# DNS 서버
윈도우 서버에서는 **DDNS(Dynamic Domain Name Service)**라는 DNS 서버를 관리할 수 있으며 **DHCP 서버와 연동**해서 관리할 수 있는 기능을 제공한다.

## 윈도우 DNS 서버 기능
- PC에서 DNS Request로 도메인을 전송하면 DNS서버에서 해당 도메인에 대한 IP 주소를 얻은 후 PC에 DNS Response로 IP 주소를 전송함
- IP 주소를 DNS 서버에 전송하면 해당하는 도메인 주소를 전송함
- DNS는 **TCP, UDP 프로토콜을 사용하고 53번 포트를 사용**함

> DNS Cache : 자주 참조하는 도메인명과 IP 주소를 메모리에 유지하고 동일한 요청이 오면 메모리에서 조회 후 PC에 응답하는데 이걸 DNS Cache라고 함, PC에도 존재하고 서버에도 존재함

DNS 서버는 **주 서버**와 **보조 서버**로 나뉘는데, 주 영역 DNS 서버 장애 시 보조 DNS 서버가 서비스를 계속하는 시스템이다. 이 때 '영역' 이라는 말은 DNS에서 도메인 주소를 관리하는 기본 관리 단위이고, 영역을 전송하는 것을 'Zone transfer'라고 한다.

## DNS 영역

### 정방향 영역(Public Domain Zone)
정방향 영역은 DNS 서버에서 도메인 주소를 전송하면 IP 주소를 전송하는 것을 말한다.

### 역방향 영역(Inverse Domain Zone)
역방향 영역은 PC에서 IP 주소를 전송하면 DNS 서버가 도메인 주소를 응답하는 것을 말한다.
이 때 PTR 레코드를 사용한다.

## 레코드

### SOA(Start of Authority) 레코드
도메인 영역의 등록 정보를 가지고 있는 기본 레코드이다. 주 서버와 보조 서버간의 동기화 정보, 시간 정보를 가지고 있으며 영역 생성 시에 자동으로 생성되는 레코드이다.

가지고 있는 속성은 다음과 같다.
1. 일련번호 : 영역 파일의 개정 번호
2. 주 서버 : 주 DNS 서버의 도메인 주소
3. 책임자 : 책임자의 전자우편 주소로, 이메일 형식이 아닌 **도메인 형식**으로 되어있음
4. 새로 고침 간격 : 주 서버와 보조 서버간의 통신 간격
5. 다시 시도 간격 : 주 서버와 보조 서버간의 통신 장애 시 재 시도하는 간격
6. 다음 날짜 이후 만료 : 설정 기간 초과해 통신 두절 시 동작 정지 정보
7. 최소(기본값) TTL : 레코드의 캐시 시간 지정
8. 이 레코드 TTL : SOA 레코드의 TTL을 지정함

### CNAME 레코드
1. 같은 IP 주소를 가지고 있는 여러 개의 호스트가 있을 때 사용한다.
2. A 레코드와 비슷하지만 별명(Alias)를 입력하고 A 레코드보다 속도가 빠르다
3. 호스트 이름을 등록해 관리한다